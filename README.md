# SectorAnalysis - å°ç£è‚¡ç¥¨é¡è‚¡é ˜æ¼²è·Ÿæ¼²åˆ†æç³»çµ±

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)

## ğŸ“Š æ¦‚è¿°

**SectorAnalysis** æ˜¯ä¸€å¥—å°ˆç‚ºå°ç£è‚¡ç¥¨å¸‚å ´è¨­è¨ˆçš„å®Œæ•´é¡è‚¡åˆ†æç³»çµ±ï¼Œæä¾›å¾è³‡æ–™ä¸‹è¼‰ã€è™•ç†åˆ°é€²éšé ˜æ¼²è·Ÿæ¼²é—œä¿‚åˆ†æçš„å®Œæ•´è§£æ±ºæ–¹æ¡ˆã€‚ç³»çµ±å¯è‡ªå‹•ä¸‹è¼‰è‚¡ç¥¨ TICK è³‡æ–™ï¼Œè½‰æ›ç‚ºåˆ†ææ ¼å¼ï¼Œä¸¦åŸ·è¡Œé¡è‚¡å…§çš„é ˜æ¼²è·Ÿæ¼²é—œä¿‚åˆ†æã€‚

### ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ”„ è‡ªå‹•åŒ–è³‡æ–™ä¸‹è¼‰** - å¾ä¼ºæœå™¨æ‰¹æ¬¡ä¸‹è¼‰è‚¡ç¥¨ TICK å’Œ TA è³‡æ–™
- **ğŸ“ˆ é¡è‚¡åˆ†æ** - ç”Ÿæˆ `combined_data_debug.csv` åˆä½µè³‡æ–™é›†
- **ğŸ¯ é ˜æ¼²è·Ÿæ¼²åˆ†æ** - è­˜åˆ¥é¡è‚¡å…§è‚¡ç¥¨çš„é ˜æ¼²è·Ÿæ¼²é—œä¿‚
- **ğŸ“Š è±å¯Œè¦–è¦ºåŒ–** - ç”Ÿæˆäº’å‹•å¼åœ–è¡¨å’Œåˆ†æå ±å‘Š
- **âš¡ æ‰¹æ¬¡è™•ç†** - æ”¯æ´åŒæ™‚åˆ†æå¤šå€‹é¡è‚¡

## ğŸš€ å¿«é€Ÿé–‹å§‹

### åˆ†ææ‰€æœ‰ç”¢æ¥­ï¼ˆæ¨è–¦ï¼‰
```bash
./analyze_sectors.sh --start 202505 --end 202506
```

### åˆ†ææŒ‡å®šç”¢æ¥­
```bash
./analyze_sectors.sh --start 202505 --end 202506 --sectors "ICåŸºæ¿,ICè¨­è¨ˆ,æ•£ç†±æ¨¡çµ„"
```

## ğŸ“ è¼¸å‡ºæª”æ¡ˆ

æ¯å€‹é¡è‚¡åˆ†ææœƒç”¢ç”Ÿä»¥ä¸‹æª”æ¡ˆï¼ˆä½æ–¼ `output/{é¡è‚¡åç¨±}/`ï¼‰ï¼š

### ğŸ“„ æ ¸å¿ƒè³‡æ–™æª”æ¡ˆ
- **`combined_data_debug.csv`** - ğŸŒŸ åˆä½µçš„åŸå§‹è³‡æ–™ï¼ˆ30K+ ç­†è¨˜éŒ„ï¼‰
- **`leader_follower_analysis_report.txt`** - è©³ç´°é ˜æ¼²è·Ÿæ¼²åˆ†æå ±å‘Š

### ğŸ“Š è¦–è¦ºåŒ–åœ–è¡¨
- **`leader_follower_analysis_relation.png`** - ğŸŒŸ è‚¡ç¥¨é—œä¿‚åœ–è¡¨
- **`interactive_multi_stock_trend_YYYYMMDD.html`** - ğŸŒŸ äº’å‹•å¼è‚¡ç¥¨èµ°å‹¢åœ–
- **`leader_follower_comprehensive_analysis.png`** - çµ±è¨ˆåœ–è¡¨

### ğŸ“‹ æ•¸æ“šè¡¨æ ¼
- **`leader_follower_pairs_detailed.csv`** - è©³ç´°é…å°æ•¸æ“š
- **`leader_follower_summary.csv`** - é…å°æ‘˜è¦è¡¨

## ğŸ“ˆ åˆ†æçµæœç¤ºä¾‹

### å…¸å‹è¼¸å‡ºæ‘˜è¦ï¼ˆICåŸºæ¿é¡è‚¡ï¼‰
```
âœ“ ç™¼ç¾ 62 å€‹æœ‰æ•ˆçš„é ˜æ¼²è·Ÿæ¼²é…å°
âœ“ å¹³å‡åæ‡‰æ™‚é–“: 11.5 åˆ†é˜
âœ“ å¹³å‡è·Ÿæ¼²å¹…åº¦: 0.92%
âœ“ æœ€ä½³é ˜æ¼²è‚¡: 8046
âœ“ æœ€ä½³é…å°: 8046 â†’ 6552 (æˆåŠŸç‡: 74%)
```

## ğŸ¯ å¸¸ç”¨æŒ‡ä»¤ç¯„ä¾‹

### åŠå°é«”ç›¸é—œç”¢æ¥­
```bash
./analyze_sectors.sh --start 202505 --end 202506 --sectors "ICåŸºæ¿,ICå°æ¸¬,ICè¨­è¨ˆ,ICé›¶çµ„ä»¶é€šè·¯å•†,LCDé©…å‹•IC,MCU"
```

### è¢«å‹•å…ƒä»¶ç”¢æ¥­
```bash
./analyze_sectors.sh --start 202505 --end 202506 --sectors "è¢«å‹•å…ƒä»¶,MLCC,åˆ†é›¢å¼å…ƒä»¶"
```

### å¿«é€Ÿæ¸¬è©¦å–®ä¸€ç”¢æ¥­
```bash
./analyze_sectors.sh --start 202505 --end 202505 --sectors "ICåŸºæ¿"
```

## ğŸ“ å¯åˆ†æçš„ç”¢æ¥­æ¸…å–®

### æ‰€æœ‰å¯ç”¨ç”¢æ¥­ï¼ˆå…±60+å€‹ï¼‰
```bash
# æª¢è¦–æ‰€æœ‰å¯ç”¨ç”¢æ¥­
ls sectorInfo/DJ_*.txt | sed 's/.*DJ_//g' | sed 's/\.txt$//g'
```

**ä¸»è¦ç”¢æ¥­åˆ†é¡**ï¼š
- **åŠå°é«”**: ICåŸºæ¿, ICå°æ¸¬, ICè¨­è¨ˆ, ICé›¶çµ„ä»¶é€šè·¯å•†, LCDé©…å‹•IC, MCU...
- **é›»å­ææ–™**: è¢«å‹•å…ƒä»¶, MLCC, åˆ†é›¢å¼å…ƒä»¶, å°åˆ·é›»è·¯æ¿, è»Ÿæ¿...
- **è¨­å‚™è£½é€ **: åŠå°é«”è¨­å‚™, PCBè¨­å‚™, å·¥å…·æ©Ÿæ¥­, è¨­å‚™å„€å™¨å» å•†...
- **å‚³çµ±ç”¢æ¥­**: ç‡Ÿå»º, è³‡ç”¢è‚¡, æ•£è£èˆªé‹, è²¨æ«ƒèˆªé‹, è‡ªè¡Œè»Š...
- **æ–°èˆˆç§‘æŠ€**: ç”Ÿç‰©ç§‘æŠ€, è³‡å®‰, è»Ÿé«”, éŠæˆ²ç›¸é—œ, å·¥æ¥­é›»è…¦...

## ğŸ”§ é€²éšä½¿ç”¨

### 1. ç´”è³‡æ–™ä¸‹è¼‰
```bash
python GetSectorData.py --start 202505 --end 202506 --sector DJ_ICåŸºæ¿,DJ_ICå°æ¸¬
```

### 2. æ‰‹å‹•å…©æ­¥é©Ÿåˆ†æ
```bash
# Step 1: ç”¢ç”Ÿ combined_data_debug.csv
python SectorAnalyzer.py --sector DJ_ICåŸºæ¿ --start 202505 --end 202506

# Step 2: åŸ·è¡Œé ˜æ¼²è·Ÿæ¼²åˆ†æ
python sector_leader_follower_analyzer.py output/ICåŸºæ¿/combined_data_debug.csv
```

### 3. ä½¿ç”¨è‡ªå‹•è½‰æ›çš„CSVåˆ†æï¼ˆå¯¦é©—æ€§ï¼‰
```bash
./csv_sector_analyze.sh --start 202505 --end 202506 --sectors "DJ_ICåŸºæ¿"
```

## ğŸ” æ ¸å¿ƒæª”æ¡ˆï¼šcombined_data_debug.csv

### æª”æ¡ˆç”¢ç”Ÿæµç¨‹
```
åŸå§‹TXTæª”æ¡ˆ â†’ SectorAnalyzer.py â†’ combined_data_debug.csv â†’ sector_leader_follower_analyzer.py â†’ åˆ†æå ±å‘Š
```

### æª”æ¡ˆå…§å®¹çµæ§‹
**combined_data_debug.csv** åŒ…å«ä»¥ä¸‹æ¬„ä½ï¼ˆå…±20æ¬„ï¼‰ï¼š
- **åŸºç¤è³‡è¨Š**: symbol, date, time, datetime
- **åƒ¹æ ¼è³‡æ–™**: open, high, low, close, volume, avg_price  
- **æŠ€è¡“æŒ‡æ¨™**: volume_ratio, price_change_pct, volatility
- **å¤§å–®è³‡æ–™**: med_buy, large_buy, xlarge_buy, med_sell, large_sell, xlarge_sell
- **ç´¯ç©è³‡æ–™**: med_buy_cum, large_buy_cum, xlarge_buy_cum (ç­‰)

### æª”æ¡ˆç‰¹è‰²
- **è³‡æ–™é‡**: æ¯å€‹ç”¢æ¥­é€šå¸¸åŒ…å« 30K+ ç­†è¨˜éŒ„
- **æ™‚é–“ç¯„åœ**: ä¾æŒ‡å®šæœŸé–“ï¼Œç²¾ç¢ºåˆ°åˆ†é˜ç´šåˆ¥
- **äº¤æ˜“æ™‚æ®µ**: è‡ªå‹•éæ¿¾è‡³ 09:01-13:30
- **å¤šè‚¡ç¥¨**: åŒä¸€æª”æ¡ˆåŒ…å«è©²ç”¢æ¥­æ‰€æœ‰è‚¡ç¥¨è³‡æ–™

## ğŸ› ï¸ å®‰è£éœ€æ±‚

### Windows Anacondaç’°å¢ƒè¨­å®š
```bash
# å»ºç«‹æ–°çš„condaç’°å¢ƒ
conda create -n sectoranalysis python=3.9
conda activate sectoranalysis

# å®‰è£å¿…è¦å¥—ä»¶
pip install pandas numpy matplotlib seaborn plotly
```

### å¿…éœ€æª”æ¡ˆ
- **DJFile.exe** - å¿…é ˆè¤‡è£½åˆ°å·¥ä½œè³‡æ–™å¤¾
- **é¡è‚¡æª”æ¡ˆ** - ä½æ–¼ `sectorInfo/` è³‡æ–™å¤¾ï¼Œä½¿ç”¨ BIG5 ç·¨ç¢¼

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
SectorAnalysis/
â”œâ”€â”€ djfile.exe                           # è³‡æ–™ä¸‹è¼‰å·¥å…·
â”œâ”€â”€ GetSectorData.py                     # è³‡æ–™ä¸‹è¼‰æ¨¡çµ„
â”œâ”€â”€ SectorAnalyzer.py                    # é¡è‚¡åˆ†ææ¨¡çµ„
â”œâ”€â”€ sector_leader_follower_analyzer.py   # é ˜æ¼²è·Ÿæ¼²åˆ†ææ¨¡çµ„
â”œâ”€â”€ analyze_sectors.sh                   # ğŸŒŸ ä¸»è¦åˆ†æè…³æœ¬
â”œâ”€â”€ csv_sector_analyze.sh                # CSVåˆ†æè…³æœ¬ï¼ˆå¯¦é©—æ€§ï¼‰
â”œâ”€â”€ convert_txt_to_csv.py                # TXTè½‰CSVå·¥å…·
â”œâ”€â”€ csv_based_leader_follower_analyzer.py # CSVç‰ˆåˆ†æå™¨
â”œâ”€â”€ sectorInfo/                          # é¡è‚¡å®šç¾©æª”æ¡ˆ
â”‚   â”œâ”€â”€ DJ_ICåŸºæ¿.txt
â”‚   â”œâ”€â”€ DJ_ICå°æ¸¬.txt
â”‚   â””â”€â”€ ... (60+å€‹ç”¢æ¥­æª”æ¡ˆ)
â”œâ”€â”€ output/                              # åˆ†æçµæœ
â”‚   â”œâ”€â”€ ICåŸºæ¿/
â”‚   â”œâ”€â”€ æ•£ç†±æ¨¡çµ„/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ CLAUDE.md                            # è©³ç´°æŠ€è¡“æ–‡ä»¶
â””â”€â”€ README.md                            # æœ¬æª”æ¡ˆ
```

## ğŸƒâ€â™‚ï¸ ç³»çµ±æ¶æ§‹

### æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„
1. **è³‡æ–™ä¸‹è¼‰æ¨¡çµ„** (`GetSectorData.py`) - å¾ä¼ºæœå™¨ä¸‹è¼‰åŸå§‹è‚¡ç¥¨è³‡æ–™
2. **é¡è‚¡åˆ†ææ¨¡çµ„** (`SectorAnalyzer.py`) - è½‰æ›è³‡æ–™ä¸¦ç”¢ç”Ÿåˆä½µè³‡æ–™é›†
3. **é ˜æ¼²è·Ÿæ¼²åˆ†ææ¨¡çµ„** (`sector_leader_follower_analyzer.py`) - åŸ·è¡Œé€²éšåˆ†æ
4. **è‡ªå‹•åŒ–è…³æœ¬** (`analyze_sectors.sh`) - ä¸€éµåŸ·è¡Œå®Œæ•´åˆ†ææµç¨‹

### è³‡æ–™æµç¨‹
```
ä¼ºæœå™¨è³‡æ–™ â†’ TICK/TAæª”æ¡ˆ â†’ åˆä½µè³‡æ–™é›† â†’ é ˜æ¼²è·Ÿæ¼²åˆ†æ â†’ è¦–è¦ºåŒ–å ±å‘Š
```

## â— ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

#### æ‰¾ä¸åˆ°DJFile.exe
```
éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°DJFileæŒ‡ä»¤
è§£æ±ºæ–¹æ³•ï¼šè¤‡è£½djfile.exeåˆ°å·¥ä½œç›®éŒ„
```

#### æ‰¾ä¸åˆ°é¡è‚¡æª”æ¡ˆ
```
éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°é¡è‚¡æª”æ¡ˆï¼šsectorInfo/DJ_XXX.txt
è§£æ±ºæ–¹æ³•ï¼šæª¢æŸ¥é¡è‚¡åç¨±æ‹¼å­—å’Œæª”æ¡ˆæ˜¯å¦å­˜åœ¨
```

#### è…³æœ¬ç„¡æ³•åŸ·è¡Œå¤šå€‹sectors
```
å•é¡Œï¼šanalyze_sectors.sh åªåŸ·è¡Œç¬¬ä¸€å€‹sector
è§£æ±ºæ–¹æ³•ï¼šç¢ºèªè…³æœ¬æ²’æœ‰ set -eï¼Œç¾å·²ä¿®å¾©
```

## ğŸ”§ é–‹ç™¼æŒ‡ä»¤

### æ¸¬è©¦
```bash
# å…ˆä»¥å°æ—¥æœŸç¯„åœæ¸¬è©¦
./analyze_sectors.sh --start 202506 --end 202506 --sectors "ICåŸºæ¿"

# æª¢æŸ¥è¨˜éŒ„æª”
cat GetSectorData.log
```

### ç¶­è­·
```bash
# æ¸…ç†æ¸¬è©¦è¼¸å‡º
rm -rf output/ICåŸºæ¿

# æª¢æŸ¥æ‰€æœ‰å¯ç”¨ç”¢æ¥­
ls sectorInfo/DJ_*.txt | wc -l
```

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Pull Request æˆ– Issueï¼

## ğŸ“ è¯çµ¡

å¦‚æœ‰å•é¡Œè«‹é€é GitHub Issues è¯çµ¡ã€‚

---

**SectorAnalysis v2.0** | å°ç£è‚¡ç¥¨å¸‚å ´é¡è‚¡åˆ†æå°ˆæ¥­å·¥å…·